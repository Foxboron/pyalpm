dist: trusty

sudo: required

env: ARCH_TRAVIS_CLEAN_CHROOT=1

arch:

  packages:
    - python
    - python-pytest
    - python-pytest-cov
    - python-sphinx

  script:
    - python3 -m py_compile $(git ls-files '*.py')
    - python3 setup.py build
    - sudo python3 setup.py install
    - make test
    - make -C doc html
    - test -n BUILD_PACMAN_GIT && make clean && ./build-pacman-git.sh

script: 'curl -s https://raw.githubusercontent.com/mikkeloscar/arch-travis/master/arch-travis.sh | bash'

# vim: ft=yaml ts=2 sw=2 et:
